{"version":3,"sources":["Secret.js","logic.js","script.js"],"names":["Secret","secret","_classCallCheck","_classPrivateMethodInitSpec","_calculateGuess","_classPrivateFieldInitSpec","_secret","writable","value","_defineProperty","_classPrivateFieldSet","_createClass","key","setGuess","guess","guessResult","_classPrivateMethodGet","_calculateGuess2","call","guesses","push","exports","default","cows","bulls","i","_classPrivateFieldGet","concat","includes","getGuessNumberInput","_ref","playerContainer","querySelector","isSetSecretButton","_ref2","node","hasAttribute","isSetGuessButton","_ref3","startGame","document","querySelectorAll","forEach","button","disabled","isGameReadyToStart","length","createGuessContainer","element","createElement","textContent","input","type","maxLength","setAttribute","append","getPlayerContainer","_ref4","closest","getSecretInput","_ref5","getSecretContainer","_ref6","isValid","_ref7","Set","_toConsumableArray","size","_Secret","_interopRequireDefault","require","_logic","obj","__esModule","secrets","addEventListener","target","playerNumber","dataset","secretNumberInput","alert","remove","guessNumberInput","oppositePlayerNumber","result"],"mappings":";;AEAA,IAAAoE,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAWiB,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAlD,OAAA,EAAAkD,GAAA;AAEjB,IAAME,OAAO,GAAG,CAAC,CAAC;AAElBlC,QAAQ,CAACmC,gBAAgB,CAAC,OAAO,EAAE,UAAA7C,IAAA,EAAgB;EAAA,IAAb8C,MAAM,GAAA9C,IAAA,CAAN8C,MAAM;EAC1C,IAAM7C,eAAe,GAAG,IAAAyB,yBAAkB,EAAC;IAAErB,IAAI,EAAEyC;EAAO,CAAC,CAAC;EAE5D,IAAI,CAAC7C,eAAe,EAAE;EAEtB,IAAM8C,YAAY,GAAG9C,eAAe,CAAC+C,OAAO,CAACD,YAAY;EAEzD,IAAI,IAAA5C,wBAAiB,EAAC;IAAEE,IAAI,EAAEyC;EAAO,CAAC,CAAC,EAAE;IACvC,IAAMG,iBAAiB,GAAG,IAAApB,qBAAc,EAAC;MAAE5B,eAAe,EAAfA;IAAgB,CAAC,CAAC;IAE7D,IAAI,CAAC,IAAAgC,cAAO,EAAC;MAAEvD,KAAK,EAAEuE,iBAAiB,CAACvE;AD1BrC,IC0B2C,CAAC,CAAC,EAAE,CD1BtCqB,mBAAmBA,CAAAC,IAAA,EAAsB;EAAA,IAAnBC,AC2BhCiD,KAAK,CAAC,SD3ByC,GAAAlD,IAAA,CAAfC,YC2BG,CAAC,ED3BW;EACnD,IC2BI,GD3BGA,eAAe,CAACC,aAAa,4BAA4B,CAAC;AACnE,IDFqBhC,AE6BjB,MF7BuB;ACIpB,EDAL,EE2BE0E,KD3BYzC,EDAdjC,AE2BS,CAAC6E,MF3BE5E,MAAM,AE2BI,CAAC,CF3BH,ACAWgC,CAAAC,CC2BL,ID3BK,AC2BDlC,ED3BY,aC2BN,CAAC+E,iBAAiB,CAACvE,KAAK,CAAC;ED3BnB,EDAtBN,AE6BlB,ED7BgCiC,EC6BhC0B,ED7BoC,GAAA3B,KAAA,CDAlB,ACAcC,IAAI,GDAlBnC,MAAA,CE6BA,EAAC;ED5BrB,EDDoBG,EE6BG4B,GD5BhBI,IAAI,CAACC,OC4B0B,EAAfL,GD5BC,CAAC,IDDL,OAAA3B,aCC6B,CAAC,CDD9B;ACEtB,IDFsBC,AE6BmB,CAAC,CAAC,CAAC4E,MAAM,CAAC,CAAC,eF7B9B,OAAA3E,OAAA;ACIf,IC2BHyB,EF/BkBxB,GCIN8B,KDJM,KE+BH,CAACkB,KD3BYlB,CAAAC,AC2BN,CAAC,ID3BK,AC2BLS,ED3BgB,yBC2BI,EAAC,CAAC,CAAC;ED3BP,EC6BvC,EFjCkBvC,ACIa2B,EC6B3B,ED7B+B,CDJjB,CEiCdU,CD7B+BP,KAAA,CAAJH,IAAI,cC6Bb,EAAC,CAAC,EAAE;ED5B5B,EDLoB,EEkChB,GD7BGA,CC6BHI,GD7BO,CAACH,YAAY,AC6BX,CD7BY,CC6BX,CAAC,qBD7BiC,CAAC;AACnD,IDNsB3B,AEmClB,eFnCkB,kBAFV,EAAE;ACUP,IDPHC,AEoCA,KD7BY6B,SAASA,CAAA,EAAG,IDPxB,KAAI,EAAAjC,OAAA,EAAWL,MAAM;EACvB,ACOAuC,AC6BA,QD7BQ,CACLC,gBAAgB,CAAC,kCAAkC,CAAC,CACpDC,OAAO,CAAC,UAACC,MAAM,EAAK;EDTtBhC,AEsCD,ED5BIgC,EC4BA,ID5BM,AC4BNN,CD5BOO,GDVV,CAAA5C,ICUkB,EDVlB,CCUqB,KAAK,MC4BP,EAAC;ED3BnB,CAAC,CDXFY,ACWG,AC2BmBuB,GFtCtB,CEsC0B,EAAEyC;AD1B/B,EC0BsC,CAAC,CFtCpCpE,AEsCqC,EAAE,GFtCvC,EAED,SAAAK,SAASC,KAAK,EAAE;ACYX,ICyBH,EFpCA,EEoCMoE,CDzBMrC,CDXN9B,WAAW,GAAAC,AEoCK,GDzBQ6B,ACyBL,CDzBK,EAAG,CCyBRhB,eFpCR,CAAG,IAAI,EAAAzB,IEoCoB,EAAC,SFpCrB,EAAAa,gBAAA,EAAAC,IAAA,CAAJ,IAAI,EAAiBJ,KAAK,CAAC;ECYjD,IDXE,AEmC+CiB,GDvB/CS,CDZI,CAACrB,MCYG,CDZI,ACYHsB,CDZIrB,EEmCiD,EFnC7C,AEmC8BW,CFnC7BhB,UCYO,CDZI,ACYH,CDZI,iCCY8B,CAAC,CAAC+B,MAAM,KAAK,CAAC;AAE9E,ICqBmE,CAAC,CFlChE,AEkCiE,OFlC1D/B,WAAW;ACef,IDdL,AEmCE,IAAI,CDrBQgC,ACqBP,IAAAgB,cAAO,EDrBoBhB,ACqBnB,CDrBmB,EAAG;EDdpC,ACeD,IAAMC,ACoBWxC,KAAK,EDpBT,ACoBW0E,GDpBR1C,QAAQ,CAACS,ICoBe,CAACzC,QDpBH,CAAC,KAAK,CAAC;EDf5C,ACiBDwC,ECkB+C,CAAC,CAAC,EAAE,CFnClDhD,ACiBM,CAACkD,KDjBP,MCiBkB,GAAG,gBAAgB;ADjBrC,ECmBD,IAAMC,ACiBF6B,KDjBO,ACiBF,CAAC,EDjBIxC,QAAQ,CAACS,aAAa,CAAC,GCiBC,CAAC,GDjBK,CAAC;ADnB5C5B,ECoBD8B,ICiBI,CFrCH,ACoBI,CDpBJ7B,ACoBK8B,IAAI,GDpBT,ACoBY,GDpBZpD,GCoBkB,GDpBlB;AAAA,ECqBDmD,ECiBE,GDjBG,CAACE,CDrBLpC,QCqBc,GAAG,GAAG,GDnBLH,KAAK,EAAE;EACrB,ACmBFqC,ECkBE,EFrCI5B,CCmBD,CAAC+B,ACkBE6B,EFrCE,GAAG,CAAC,MCmBI,CAAC,OCkBS,GAAGN,YAAY,GDlBC,EAAE,ACkBE,EDlBA,CAAC,ACkBE,GAAG,GAAG,GAAG,GAAG;EFpC7D,ACoBF7B,ECkBE,EFtCIxB,EEsCE4D,CDlBD,CAAC7B,CDpBG,GAAG,AEsCA,CFtCC,CCoBD,CAACJ,ACkBEuB,KDlBG,CAAC,CCkBG,CAACS,oBAAoB,CAAC,CAACtE,QAAQ,CACnDqE,gBAAgB,CAAC1E,KACnB,CAAC;EFtCD,ACoBF,ECoBE,EDpBImC,CDpBC,CEwCDyC,GFxCK3D,CAAC,ACoBA,ECoBA,CFxCG,ACoBAe,ACoBFhB,CFxCG,EAAEC,CAAC,CEwCD,EFxCI,CAAC,ACoBA,CAACwB,CDpBCxB,AEwCF,CFxCG,AEwCF,EFxCI,AEwCF,EFxCI,OCoBO,CAAC,QAAQ,CAAC;EAC/CkB,EDpBI,EEwCAqC,EFxCIlE,ACoBF,CAACoC,ECoBE,EFxCI,CAACzB,CAAC,CAAC,ICoBE,CDpBGC,CEwCZC,CDpBY,KCoBZ,CAAWkD,KDpBY,OCoBA,CFxCX,KAAI,EAAAvE,EEwCc,CAAC,IFxCf,EAASmB,CAAC,CAAC,EAAE;ECqBtCkB,ECoBE,EFxCInB,ECoBA,CAACoB,EDpBI,IAAI,CAAC,CCoBD,GAAG,IAAI;EACtBD,ECqBE,EFzCI,ECoBA,CAACW,YAAY,CAAC,uBAAuB,EAAE,EAAE,CAAC;EAEhDN,ACoBA,EFzCI,KCqBG,CAACO,MAAM,CAACZ,MAAM,CAAC;ACqBxB,CAAC,CDnBC,ACmBA,EFxCI,IAAI,CCqBDK,EDrBCrB,KCqBM,CDrBN,CAAAD,qBAAA,CAAG,IAAI,EAAApB,OAAA,GAAWsB,QAAQ,CAACd,KAAK,CAACW,CAAC,CAAC,CAAC,EAAE;ACsBhD,MDrBQF,IAAI,IAAI,CAAC;ACuBV,IDtBD,KCsBUiC,kBAAkBA,CAAAC,KAAA,EAAW;EDrBzC,ACqByC,IAARtB,IAAI,GAAAsB,KAAA,CAAJtB,IAAI;EDnBrC,ACoBF,ODpBS,ACoBFA,IAAI,CAACuB,OAAO,CAAC,eAAe,CAAC;AACtC,IDpBM5C,KAAK,EAALA,KAAK;ACsBJ,IDrBDS,IAAI,CCqBMoC,CDrBVpC,IAAI,SCqBoBoC,CAAAC,KAAA,EAAsB;EAAA,EDpB9CpC,ECoB2BO,GDpBtB,EAALP,UCoB0C,GAAAoC,KAAA,CAAf7B,eAAe;EDnB5C,ACoBF,CDpBG,MCoBIA,eAAe,CAACC,aAAa,6BAA6B,CAAC;ADnBlE,ACoBF;AAEO,SAAS6B,kBAAkBA,CAAAC,KAAA,EAAsB;EAAA,IAAnB/B,eAAe,GAAA+B,KAAA,CAAf/B,eAAe;EAClD,OAAOA,eAAe,CAACC,aAAa,oBAAoB,CAAC;AAC3D;AAEO,SAAS+B,OAAOA,CAAAC,KAAA,EAAY;EAAA,IAATxD,KAAK,GAAAwD,KAAA,CAALxD,KAAK;EAC7B,OAAO,IAAIyD,GAAG,CAAAC,kBAAA,CAAK1D,KAAK,CAAC,CAAC,CAAC2D,IAAI,KAAK,CAAC;AACvC","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["export default class Secret {\r\n  #secret;\r\n  guesses = [];\r\n\r\n  constructor(secret) {\r\n    this.#secret = secret;\r\n  }\r\n\r\n  setGuess(guess) {\r\n    const guessResult = this.#calculateGuess(guess);\r\n    this.guesses.push(guessResult);\r\n    return guessResult;\r\n  }\r\n\r\n  #calculateGuess(guess) {\r\n    let cows = 0;\r\n    let bulls = 0;\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      if (guess[i] === this.#secret[i]) {\r\n        bulls += 1;\r\n        continue;\r\n      }\r\n\r\n      if (`${this.#secret}`.includes(guess[i])) {\r\n        cows += 1;\r\n      }\r\n    }\r\n\r\n    return {\r\n      guess,\r\n      cows,\r\n      bulls,\r\n    };\r\n  }\r\n}\r\n","export function getGuessNumberInput({ playerContainer }) {\r\n  return playerContainer.querySelector(`[data-guess-number-input]`);\r\n}\r\n\r\nexport function isSetSecretButton({ node }) {\r\n  return node.hasAttribute(\"data-set-secret-button\");\r\n}\r\n\r\nexport function isSetGuessButton({ node }) {\r\n  return node.hasAttribute(\"data-set-guess-button\");\r\n}\r\n\r\nexport function startGame() {\r\n  document\r\n    .querySelectorAll(\"[data-set-guess-button]:disabled\")\r\n    .forEach((button) => {\r\n      button.disabled = false;\r\n    });\r\n}\r\n\r\nexport function isGameReadyToStart() {\r\n  return (\r\n    document.querySelectorAll(\"[data-set-guess-button]:disabled\").length === 2\r\n  );\r\n}\r\n\r\nexport function createGuessContainer() {\r\n  const element = document.createElement(\"div\");\r\n\r\n  element.textContent = \"Guess number: \";\r\n\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"text\";\r\n  input.maxLength = \"4\";\r\n  input.setAttribute(\"data-guess-number-input\", \"\");\r\n\r\n  element.append(input);\r\n\r\n  const button = document.createElement(\"button\");\r\n  button.textContent = \"Set guess\";\r\n  button.disabled = true;\r\n  button.setAttribute(\"data-set-guess-button\", \"\");\r\n\r\n  element.append(button);\r\n\r\n  return element;\r\n}\r\n\r\nexport function getPlayerContainer({ node }) {\r\n  return node.closest(\"[data-player]\");\r\n}\r\n\r\nexport function getSecretInput({ playerContainer }) {\r\n  return playerContainer.querySelector(`[data-secret-number-input]`);\r\n}\r\n\r\nexport function getSecretContainer({ playerContainer }) {\r\n  return playerContainer.querySelector(`[data-set-secret]`);\r\n}\r\n\r\nexport function isValid({ value }) {\r\n  return new Set([...value]).size === 4;\r\n}\r\n","import Secret from \"./Secret\";\r\nimport {\r\n  getPlayerContainer,\r\n  getSecretContainer,\r\n  isSetSecretButton,\r\n  isSetGuessButton,\r\n  getSecretInput,\r\n  getGuessNumberInput,\r\n  isValid,\r\n  createGuessContainer,\r\n  isGameReadyToStart,\r\n  startGame,\r\n} from \"./logic\";\r\n\r\nconst secrets = {};\r\n\r\ndocument.addEventListener(\"click\", ({ target }) => {\r\n  const playerContainer = getPlayerContainer({ node: target });\r\n\r\n  if (!playerContainer) return;\r\n\r\n  const playerNumber = playerContainer.dataset.playerNumber;\r\n\r\n  if (isSetSecretButton({ node: target })) {\r\n    const secretNumberInput = getSecretInput({ playerContainer });\r\n\r\n    if (!isValid({ value: secretNumberInput.value })) {\r\n      alert(\"secret number is not valid!\");\r\n      return;\r\n    }\r\n\r\n    secrets[playerNumber] = new Secret(secretNumberInput.value);\r\n\r\n    getSecretContainer({ playerContainer }).remove();\r\n\r\n    playerContainer.append(createGuessContainer());\r\n\r\n    if (isGameReadyToStart()) {\r\n      startGame();\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  if (isSetGuessButton({ node: target })) {\r\n    const guessNumberInput = getGuessNumberInput({ playerContainer });\r\n\r\n    if (!isValid({ value: guessNumberInput.value })) {\r\n      alert(\"guess number is not valid!\");\r\n      return;\r\n    }\r\n\r\n    const oppositePlayerNumber = playerNumber === \"1\" ? \"2\" : \"1\";\r\n\r\n    const result = secrets[oppositePlayerNumber].setGuess(\r\n      guessNumberInput.value\r\n    );\r\n\r\n    if (result.bulls === 4) {\r\n      alert(`Player ${playerNumber} won!`);\r\n    }\r\n\r\n    return;\r\n  }\r\n});\r\n"]}